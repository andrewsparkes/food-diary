source 'https://rubygems.org'

#git_source(:github) do |repo_name|
#  repo_name = "#{repo_name}/#{repo_name}" unless repo_name.include?('/')
#  "https://github.com/#{repo_name}.git"
#end
#
## Turbolinks makes navigating your web application faster.
## Read more: https://github.com/turbolinks/turbolinks
#gem 'turbolinks', '~> 5'

## Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder
#gem 'jbuilder', '~> 2.5'
#
#group :development, :test do
#  # Call 'byebug' anywhere in the code to stop execution and get a
#  # debugger console
#  gem 'byebug', platforms: %i[mri mingw x64_mingw]
#end
#
#group :development do
#  gem 'listen', '>= 3.0.5', '< 3.2'
#  # Access an IRB console on exception pages or by using <%= console %>
#  # anywhere in the code.
#  gem 'web-console', '>= 3.3.0'
#  # Spring speeds up development by keeping your application running in
#  # the background. Read more: https://github.com/rails/spring
#  gem 'spring'
#  gem 'spring-watcher-listen', '~> 2.0.0'
#end
#
## Windows does not include zoneinfo files, so bundle the tzinfo-data gem
#gem 'tzinfo-data', platforms: %i[mingw mswin x64_mingw jruby]

group :default do
  gem 'rails', '~> 5.1.4'

  # Turbolinks makes navigating your web application faster.
  # Read more: https://github.com/turbolinks/turbolinks
  gem 'turbolinks', '~> 5'

  # AASM is a library for adding finite state machines to Ruby classes.
  # It currently provides adapters for ActiveRecord, and Mongoid but it can be
  # used for any Ruby class, no matter what parent class it has (if any).
  #gem 'aasm'

  # Configatron makes configuring your applications and scripts incredibly
  # easy. No longer is a there a need to use constants or global variables. Now
  # you can use a simple and painless system to configure your life, e.g.
  # configatron.email = 'me@example.com'
  # Now, anywhere in your code you can do the following:
  # configatron.email # => "me@example.com"
  #gem 'configatron'
  
  # A simple HTTP and REST client for Ruby
  #gem 'rest-client' # curb substitute.
  
  # Formtastic is a Rails FormBuilder DSL (with some other goodies) to make it
  # far easier to create beautiful, semantically rich, syntactically awesome,
  # readily stylable and wonderfully accessible HTML forms in your Rails
  # applications.
  #gem 'formtastic'

  # Caching, primarily of batch.xml Can be removed once our xml interfaces are
  # retired.
  ## gem 'actionpack-page_caching'

  # Legacy support for parsing XML into params
  ##gem 'actionpack-xml_parser'

  # Active Resource (ARes) connects business objects and Representational State
  # Transfer (REST) web services. It implements object-relational mapping for
  # REST web services to provide transparent proxying capabilities between a
  # client (ActiveResource) and a RESTful service (which is provided by Simply
  # RESTful routing in ActionController::Resources).
  #gem 'activeresource', github: 'rails/activeresource', branch: 'master'

  # Provides bulk insert capabilities for active record.
  #gem 'activerecord-import'

  # MySQL database access.
  gem 'mysql2', platforms: :mri

  # The Spreadsheet Library is designed to read and write Spreadsheet
  # Documents. As of version 0.6.0, only Microsoft Excel compatible
  # spreadsheets are supported.
  #gem 'spreadsheet'
  
  # provides a simple API for performing paginated queries with Active Record,
  # DataMapper and Sequel, and includes helpers for rendering pagination links
  # in Rails, Sinatra and Merb web apps.  
  #gem 'will_paginate'

  # Will paginate clashes awkwardly with bootstrap  
  #gem 'will_paginate-bootstrap'

  # implements client access for the Lightweight Directory Access Protocol
  # (LDAP), an IETF standard protocol for accessing distributed directory
  # services. 
  #gem 'net-ldap'
  
  # This gem provides a simple and extremely flexible way to upload files from
  # Ruby applications.
  #gem 'carrierwave'

  # Provides helpers for models eg. error_messages_for previously in rails 2,
  # now deprecated.
  #gem 'dynamic_form'

  # Puma is a simple, fast, threaded, and highly concurrent HTTP 1.1 server for
  # Ruby/Rack applications.
  gem 'puma'
  # Daemons provides an easy way to wrap existing ruby scripts (for example a
  # self-written server) to be run as a daemon and to be controlled by simple
  # start/stop/restart commands.
  #gem 'daemons'

  # Acts As Dag, short for Acts As Directed Acyclic Graph, is a plugin which
  # allows you to represent DAG hierarchy using your ActiveRecord models.
  # We pull down a slightly later version as there are commits on head
  # which we depend on, but don't have an official release yet.
  # This is mainly https://github.com/resgraph/acts-as-dag/commit/be2c0179983aaed44fda0842742c7abc96d26c4e
  #gem 'acts-as-dag', github:'resgraph/acts-as-dag', branch:'5e185dddff6563ee9ee92611555cd9d9a519d280'

  # Encapsulates the common pattern of asynchronously executing longer tasks in the background.
  # Locked for ruby version
  #gem 'delayed_job_active_record'

  # provides a customable map like function to explore any tree.
  #gem 'ruby_walk',  '>= 0.0.3',
  #  :github => 'sanger/ruby_walk'

  # A simple wrapper interface for the iRods command line tools.
  #gem 'irods_reader', '>=0.0.2',
  #  :github => 'sanger/irods_reader'

  # A simple universally unique ID generation library.
  #gem 'uuidtools'

  # Sinatra is a DSL for quickly creating web applications in Ruby with minimal
  # effort.
  #gem 'sinatra', require: false

  # Provides definitive support for Accept-* headers, strictly compliant with
  # RFC 2616. Includes negotiation algorithms for Media-Types, Charsets and
  # Content-Codings.
  #gem 'rack-acceptable', require: 'rack/acceptable'

  # This is a JSON implementation as a Ruby extension in C.
  #gem 'json'

  # A common interface to multiple JSON libraries, including Oj, Yajl, the JSON
  # gem (with C-extensions), the pure-Ruby JSON gem, NSJSONSerialization,
  # gson.rb, JrJackson, and OkJson.
  #gem 'multi_json'

  # CanCan is an authorization library for Ruby on Rails which restricts what
  # resources a given user is allowed to access. 
  #gem 'cancan'

  # Provides a framework for developing an API server that complies with the
  # JSON:API specification. API v2.
  #gem 'jsonapi-resources'

  # Bunny is a RabbitMQ client.
  #gem 'bunny'

  # A gem to automate using jQuery with Rails.
  gem 'jquery-rails'

  # This gem packages the jQuery UI assets (JavaScripts, stylesheets, and
  # images) for the Rails asset pipeline, so you never have to download a
  # custom package through the web interface again.
  gem 'jquery-ui-rails'

  # tablesorter is a jQuery plugin for turning a standard HTML table with THEAD
  # and TBODY tags into a sortable table without page refreshes.
  #gem 'jquery-tablesorter'

  # bootstrap-sass is a Sass-powered version of Bootstrap 3, ready to drop
  # right into your Sass powered applications.
  #gem 'bootstrap-sass'

  # This gem provides official integration for Ruby on Rails projects with the
  # Sass stylesheet language.
  gem 'sass-rails'

  # CoffeeScript adapter for the Rails asset pipeline.
  gem 'coffee-rails'

  # Select2 is a jQuery based replacement for select boxes. It supports
  # searching, remote data sets, and infinite scrolling of results.
  gem 'select2-rails'
  # gem 'font-awesome-sass'

  # See https://github.com/sstephenson/execjs#readme for supported runtimes
  # Call JavaScript code and manipulate JavaScript objects from Ruby. Call Ruby
  # code and manipulate Ruby objects from JavaScript.
  #gem 'therubyracer', platforms: :mri
  
  # Pat of the JS assets pipleine
  # Uglifier minifies JavaScript files by wrapping UglifyJS to be accessible in
  # Ruby
  gem 'uglifier', '>= 1.0.3'

  # Excel file generation
  # xlsx generation with charts, images, automated column width, customizable
  # styles and full schema validation.
  # Note: We're temporarily using out own for of the project to make use of a
  # few changes which have not yet been merged into a proper release. (Latest
  # release 2.0.1 at time of writing)
  # Future releases SHOULD contain the changes made in our fork, and should be
  # adopted as soon as reasonable once they are available. The next version
  # looks like it may be v3.0.0, so be aware of possible breaking changes.
  #gem 'axlsx', github: 'sanger/axlsx', branch: 'v2.0.2sgr'
  
  # Roo implements read access for all common spreadsheet types.
  #gem 'roo'

  # Used in XML generation.
  # Builder provides a number of builder objects that make creating structured
  # data simple to do.
  #gem 'builder'

  # Barcodes generated by Sequencescape and other applications have two
  # representations, a human readable form, and an ean13 representation. The
  # ean13 is regularly used to generate physical barcodes, and is returned by
  # the various barcode scanners. Meanwhile the human readable form is often
  # used when items are searched for manually, particularly when there is no
  # physical access to the item itself.
  #gem 'sanger_barcode_format', github: 'sanger/sanger_barcode_format', branch: 'development'

  # Provides null db adapter, that blocks access to remote database
  # (in our case used for Agresso db in non-production environments)
  # A database backend that translates database interactions into no-ops. Using
  # NullDB enables you to test your model business logic - including after_save
  # hooks - without ever touching a real database.
  #gem 'activerecord-nulldb-adapter', require: false

  # Allow simple connection pooling on non-database connections
  # Using it to maintain our warren's of bunnies.
  # Or the connection pool of RabbitMQ channels to get technical
  #gem 'connection_pool'
end

#group :warehouse do
  # Ruby-oci8 is a ruby interface for Oracle Database.
  # Used to connect to oracle databases for some data import
  # TODO: ACS - this one doesn't install
  #gem 'ruby-oci8', platforms: :mri
  
  # No ruby-oci8, (Need to use Oracle JDBC drivers Instead)
  # any newer version requires ruby-oci8 => 2.0.1
  # Oracle "enhanced" ActiveRecord adapter contains useful additional methods
  # for working with new and legacy Oracle databases. This adapter is superset
  # of original ActiveRecord Oracle adapter.
  # TODO: ACS - use when oci8 works
  #gem 'activerecord-oracle_enhanced-adapter', '~> 1.8'
#end

group :development do

  # The Listen gem listens to file modifications and notifies you about the changes.
  gem 'listen', '>= 3.0.5', '< 3.2'

  # Flay analyzes code for structural similarities. Differences in literal
  # values, variable, class, method names, whitespace, programming style,
  # braces vs do/end, etc are all ignored.
  #gem 'flay', require: false

  # Flog reports the most tortured code in an easy to read pain report. The
  # higher the score, the more pain the code is in.
  #gem 'flog', require: false
  
  # Detect n+1 queries
  # The Bullet gem is designed to help you increase your application's
  # performance by reducing the number of queries it makes. It will watch your
  # queries while you develop your application and notify you when you should
  # add eager loading (N+1 queries), when you're using eager loading that isn't
  # necessary and when you should use counter cache.
  #gem 'bullet'

  # Pry is a powerful alternative to the standard IRB shell for Ruby.
  # Used to aid debugging.
  #gem 'pry'

  # YARD is an automated documentation generation tool for the Ruby programming
  # language.
  #gem 'yard', require: false

  # Enforces coding styles and detects some bad practices.
  gem 'rubocop', require: false

  # MiniProfiler allows you to see the speed of a request conveniently on the
  # page.
  # It also shows the SQL queries performed and allows you to profile a
  # specific block of code.
  #gem 'rack-mini-profiler'

  # A Rake task that helps you find dead routes and unused actions in your
  # Rails 3+ app.
  # find unused routes and controller actions by runnung `rake traceroute` from
  # the command line
  #gem 'traceroute'
end

#group :profile do
  # Ruby prof requires a separate environments so that it can run in production
  # like mode.
  # ruby-prof is a fast code profiler for MRI Ruby.
  #gem 'ruby-prof'
#end

group :test do
  # rspec-rails is a testing framework for Rails 3.x, 4.x and 5.0.
  gem 'rspec-rails', require: false
  
  # Rails performance tests
  # Rails performance tests are a special type of integration tests, designed
  # for benchmarking and profiling the test code. With performance tests, you
  # can determine where your application's memory or speed problems are coming
  # from, and get a more in-depth picture of those problems.
  #gem 'rails-perftest'

  # Provides json expectations for rspec. Makes test more readable,
  # and test failures more descriptive.
  #gem 'rspec-json_expectations', require: false

  # It is needed to use #assigns(attribute) in controllers tests.
  # This gem brings back assigns to your controller tests as well as
  # assert_template to both controller and integration tests.
  #gem 'rails-controller-testing'
end


group :development, :test do
  # Use sqlite3 as the database for development and test.
  gem 'sqlite3'

  # Call 'byebug' anywhere in the code to stop execution and get a debugger
  # console.
  gem 'byebug'

  # Spring speeds up development by keeping your application running in the
  # background. Read more: https://github.com/rails/spring
  gem 'spring','~>1.3.6'
end

group :test, :cucumber do
  # factory_bot is a fixtures replacement with a straightforward definition
  # syntax, support for multiple build strategies (saved instances, unsaved
  # instances, attribute hashes, and stubbed objects), and support for multiple
  # factories for the same class (user, admin_user, and so on), including
  # factory inheritance.
  gem 'factory_girl_rails', require: false

  # Launchy is helper class for launching cross-platform applications in a fire
  # and forget manner. There are application concepts (browser, email client,
  # etc) that are common across all platforms, and they may be launched
  # differently on each platform. Launchy is here to make a common approach to
  # launching external application from within ruby programs.
  #gem 'launchy', require: false

  # A Ruby library for mocking and stubbing.
  gem 'mocha', require: false # avoids load order problems

  # Nokogiri is an HTML, XML, SAX, and Reader parser. Among Nokogiri's many
  # features is the ability to search documents via XPath or CSS3 selectors.
  #gem 'nokogiri', require: false

  # Shoulda's contexts make it easy to write understandable and maintainable
  # tests for Test::Unit.
  #gem 'shoulda-context', require: false

  # Shoulda Matchers provides RSpec- and Minitest-compatible one-liners that
  # test common Rails functionality. These tests would otherwise be much
  # longer, more complex, and error-prone.
  #gem 'shoulda-matchers', require: false

  # JSONAPI::Resources, or "JR", provides a framework for developing an API
  # server that complies with the JSON:API specification.
  #gem 'jsonapi-resources-matchers', require: false

  # A gem providing "time travel" and "time freezing" capabilities, making it
  # dead simple to test time-dependent code. It provides a unified method to
  # mock Time.now, Date.today, and DateTime.now in a single call.
  #gem 'timecop', require: false

  # SimpleCov is a code coverage analysis tool for Ruby.
  #gem 'simplecov', require: false

  # Database Cleaner is a set of strategies for cleaning your database in Ruby.
  gem 'database_cleaner'

  # Simplifies shared transactions between server and test threads
  # See:
  # http://technotes.iangreenleaf.com/posts/
  # the-one-true-guide-to-database-transactions-with-capybara.html
  # Essentially does two things:
  # - Patches rails to share a database connection between threads while
  # Testing.
  # - Patches rspec to ensure capybara has done its stuff before killing the
  # connection.
  #gem 'transactional_capybara'

  # Pry is a powerful alternative to the standard IRB shell for Ruby.
  # Used to aid debugging.
  #gem 'pry'
end

# Cucumber is a tool for running automated tests.
# Combines specification and testing for your project.
group :cucumber do
  # Rubyzip is a ruby library for reading and writing zip files.
  #gem 'rubyzip'

  # Capybara helps you test web applications by simulating how a real user
  # would interact with your app. It is agnostic about the driver running your
  # tests and comes with Rack::Test and Selenium support built in. 
  gem 'capybara'

  # The mime-types library provides a library and registry for information
  # about MIME content type definitions. It can be used to determine defined
  # filename extensions for MIME types, or to use filename extensions to look
  # up the likely MIME type definitions.
  #gem 'mime-types'

  # Cucumber-Rails brings Cucumber to Rails 4.x and 5.x.
  #gem 'cucumber-rails', require: false

  # Poltergeist is a driver for Capybara. It allows you to run your Capybara
  # tests on a headless WebKit browser, provided by PhantomJS.
  gem 'poltergeist'

  # Library for stubbing and setting expectations on HTTP requests in Ruby.
  #gem 'webmock'

  # Knapsack splits tests across CI nodes and makes sure that tests will run
  # comparable time on each node.
  # Parallel tests across CI server nodes based on each test file's time
  # execution. Knapsack generates a test time execution report and uses it for
  # future test runs.
  #gem 'knapsack'
end

group :development, :test, :cucumber do

  # Pry is a powerful alternative to the standard IRB shell for Ruby.
  # Used to aid debugging.
  gem 'pry'

end

group :deployment do
  # Sanger/PSD specific modifications to SyslogLogger, a Ruby Logger replacement.
  #gem 'psd_logger',
  #  :github => 'sanger/psd_logger'

  # Pure Ruby interface for generating Ganglia gmetric packets.
  # gmetric is a repository of user-contributed gmetric scripts.
  #gem 'gmetric', '~>0.1.3'

  # Exception notification for Rails apps
  gem 'exception_notification'
end


